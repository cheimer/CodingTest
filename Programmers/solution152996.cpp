// https://school.programmers.co.kr/learn/courses/30/lessons/152996

// Question
/*
<<<<<<< HEAD
ë¬¸ì œ ì„¤ëª…
ì–´ëŠ ê³µì› ë†€ì´í„°ì—ëŠ” ì‹œì†Œê°€ í•˜ë‚˜ ì„¤ì¹˜ë˜ì–´ ìžˆìŠµë‹ˆë‹¤. ì´ ì‹œì†ŒëŠ” ì¤‘ì‹¬ìœ¼ë¡œë¶€í„° 2(m), 3(m), 4(m) ê±°ë¦¬ì˜ ì§€ì ì— ì¢Œì„ì´ í•˜ë‚˜ì”© ìžˆìŠµë‹ˆë‹¤.
ì´ ì‹œì†Œë¥¼ ë‘ ëª…ì´ ë§ˆì£¼ ë³´ê³  íƒ„ë‹¤ê³  í•  ë•Œ, ì‹œì†Œê°€ í‰í˜•ì¸ ìƒíƒœì—ì„œ ê°ê°ì— ì˜í•´ ì‹œì†Œì— ê±¸ë¦¬ëŠ” í† í¬ì˜ í¬ê¸°ê°€ ì„œë¡œ ìƒì‡„ë˜ì–´ ì™„ì „í•œ ê· í˜•ì„ ì´ë£° ìˆ˜ ìžˆë‹¤ë©´ ê·¸ ë‘ ì‚¬ëžŒì„ ì‹œì†Œ ì§ê¿ì´ë¼ê³  í•©ë‹ˆë‹¤. ì¦‰, íƒ‘ìŠ¹í•œ ì‚¬ëžŒì˜ ë¬´ê²Œì™€ ì‹œì†Œ ì¶•ê³¼ ì¢Œì„ ê°„ì˜ ê±°ë¦¬ì˜ ê³±ì´ ì–‘ìª½ ë‹¤ ê°™ë‹¤ë©´ ì‹œì†Œ ì§ê¿ì´ë¼ê³  í•  ìˆ˜ ìžˆìŠµë‹ˆë‹¤.
ì‚¬ëžŒë“¤ì˜ ëª¸ë¬´ê²Œ ëª©ë¡ weightsì´ ì£¼ì–´ì§ˆ ë•Œ, ì‹œì†Œ ì§ê¿ì´ ëª‡ ìŒ ì¡´ìž¬í•˜ëŠ”ì§€ êµ¬í•˜ì—¬ return í•˜ë„ë¡ solution í•¨ìˆ˜ë¥¼ ì™„ì„±í•´ì£¼ì„¸ìš”.

ì œí•œ ì‚¬í•­
2 â‰¤ weightsì˜ ê¸¸ì´ â‰¤ 100,000
100 â‰¤ weights[i] â‰¤ 1,000
ëª¸ë¬´ê²Œ ë‹¨ìœ„ëŠ” N(ë‰´í„´)ìœ¼ë¡œ ì£¼ì–´ì§‘ë‹ˆë‹¤.
ëª¸ë¬´ê²ŒëŠ” ëª¨ë‘ ì •ìˆ˜ìž…ë‹ˆë‹¤.
ìž…ì¶œë ¥ ì˜ˆ
weights	result
[100,180,360,100,270]	4
ìž…ì¶œë ¥ ì˜ˆ ì„¤ëª…
{100, 100} ì€ ì„œë¡œ ê°™ì€ ê±°ë¦¬ì— ë§ˆì£¼ë³´ê³  ì•‰ìœ¼ë©´ ê· í˜•ì„ ì´ë£¹ë‹ˆë‹¤.
{180, 360} ì€ ê°ê° 4(m), 2(m) ê±°ë¦¬ì— ë§ˆì£¼ë³´ê³  ì•‰ìœ¼ë©´ ê· í˜•ì„ ì´ë£¹ë‹ˆë‹¤.
{180, 270} ì€ ê°ê° 3(m), 2(m) ê±°ë¦¬ì— ë§ˆì£¼ë³´ê³  ì•‰ìœ¼ë©´ ê· í˜•ì„ ì´ë£¹ë‹ˆë‹¤.
{270, 360} ì€ ê°ê° 4(m), 3(m) ê±°ë¦¬ì— ë§ˆì£¼ë³´ê³  ì•‰ìœ¼ë©´ ê· í˜•ì„ ì´ë£¹ë‹ˆë‹¤.
=======
¹®Á¦ ¼³¸í
¾î´À °ø¿ø ³îÀÌÅÍ¿¡´Â ½Ã¼Ò°¡ ÇÏ³ª ¼³Ä¡µÇ¾î ÀÖ½À´Ï´Ù. ÀÌ ½Ã¼Ò´Â Áß½ÉÀ¸·ÎºÎÅÍ 2(m), 3(m), 4(m) °Å¸®ÀÇ ÁöÁ¡¿¡ ÁÂ¼®ÀÌ ÇÏ³ª¾¿ ÀÖ½À´Ï´Ù.
ÀÌ ½Ã¼Ò¸¦ µÎ ¸íÀÌ ¸¶ÁÖ º¸°í Åº´Ù°í ÇÒ ¶§, ½Ã¼Ò°¡ ÆòÇüÀÎ »óÅÂ¿¡¼­ °¢°¢¿¡ ÀÇÇØ ½Ã¼Ò¿¡ °É¸®´Â ÅäÅ©ÀÇ Å©±â°¡ ¼­·Î »ó¼âµÇ¾î ¿ÏÀüÇÑ ±ÕÇüÀ» ÀÌ·ê ¼ö ÀÖ´Ù¸é ±× µÎ »ç¶÷À» ½Ã¼Ò Â¦²áÀÌ¶ó°í ÇÕ´Ï´Ù. Áï, Å¾½ÂÇÑ »ç¶÷ÀÇ ¹«°Ô¿Í ½Ã¼Ò Ãà°ú ÁÂ¼® °£ÀÇ °Å¸®ÀÇ °öÀÌ ¾çÂÊ ´Ù °°´Ù¸é ½Ã¼Ò Â¦²áÀÌ¶ó°í ÇÒ ¼ö ÀÖ½À´Ï´Ù.
»ç¶÷µéÀÇ ¸ö¹«°Ô ¸ñ·Ï weightsÀÌ ÁÖ¾îÁú ¶§, ½Ã¼Ò Â¦²áÀÌ ¸î ½Ö Á¸ÀçÇÏ´ÂÁö ±¸ÇÏ¿© return ÇÏµµ·Ï solution ÇÔ¼ö¸¦ ¿Ï¼ºÇØÁÖ¼¼¿ä.

Á¦ÇÑ »çÇ×
2 ¡Â weightsÀÇ ±æÀÌ ¡Â 100,000
100 ¡Â weights[i] ¡Â 1,000
¸ö¹«°Ô ´ÜÀ§´Â N(´ºÅÏ)À¸·Î ÁÖ¾îÁý´Ï´Ù.
¸ö¹«°Ô´Â ¸ðµÎ Á¤¼öÀÔ´Ï´Ù.
ÀÔÃâ·Â ¿¹
weights	result
[100,180,360,100,270]	4
ÀÔÃâ·Â ¿¹ ¼³¸í
{100, 100} Àº ¼­·Î °°Àº °Å¸®¿¡ ¸¶ÁÖº¸°í ¾ÉÀ¸¸é ±ÕÇüÀ» ÀÌ·ì´Ï´Ù.
{180, 360} Àº °¢°¢ 4(m), 2(m) °Å¸®¿¡ ¸¶ÁÖº¸°í ¾ÉÀ¸¸é ±ÕÇüÀ» ÀÌ·ì´Ï´Ù.
{180, 270} Àº °¢°¢ 3(m), 2(m) °Å¸®¿¡ ¸¶ÁÖº¸°í ¾ÉÀ¸¸é ±ÕÇüÀ» ÀÌ·ì´Ï´Ù.
{270, 360} Àº °¢°¢ 4(m), 3(m) °Å¸®¿¡ ¸¶ÁÖº¸°í ¾ÉÀ¸¸é ±ÕÇüÀ» ÀÌ·ì´Ï´Ù.
>>>>>>> origin/main
*/

#include <string>
#include <vector>
#include <algorithm>
#include <map>

using namespace std;

long long solution(vector<int> weights) {

    sort(weights.begin(), weights.end());

    map<int, int> weightNum;
    for (int weight : weights)
    {
        if(weightNum.count(weight) == 0)
        {
            weightNum[weight] = 1;
        }
        else
        {
            weightNum[weight]++;
        }
    }

    long long answer = 0;
    for (int weight : weights)
    {
        weightNum[weight]--;

        if(weightNum.count(weight) != 0)
        {
            answer += weightNum[weight];
        }
        if(weight % 3 == 0 && weightNum.count(weight * 4 / 3) != 0)
        {
            answer += weightNum[weight * 4 / 3];
        }
        if(weight % 2 == 0 && weightNum.count(weight * 3 / 2) != 0)
        {
            answer += weightNum[weight * 3 / 2];
        }if(weightNum.count(weight * 2) != 0)
        {
            answer += weightNum[weight * 2];
        }
    }

    return answer;
}